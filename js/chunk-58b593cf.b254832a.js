(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58b593cf"],{"0cb2":function(t,a,e){var s=e("7b0b"),i=Math.floor,r="".replace,n=/\$([$&'`]|\d\d?|<[^>]*>)/g,o=/\$([$&'`]|\d\d?)/g;t.exports=function(t,a,e,c,d,u){var l=e+t.length,f=c.length,g=o;return void 0!==d&&(d=s(d),g=n),r.call(u,g,(function(s,r){var n;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,e);case"'":return a.slice(l);case"<":n=d[r.slice(1,-1)];break;default:var o=+r;if(0===o)return s;if(o>f){var u=i(o/10);return 0===u?s:u<=f?void 0===c[u-1]?r.charAt(1):c[u-1]+r.charAt(1):s}n=c[o-1]}return void 0===n?"":n}))}},"4c41":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my"},[e("div",{staticClass:"bg-box"},[e("img",{attrs:{src:t.userData.userBg}}),e("div",{staticClass:"upload-bg"},[e("van-uploader",{attrs:{"after-read":t.afterReadBg}})],1)]),e("div",{staticClass:"userdata-box"},[e("div",{staticClass:"header-box"},[e("div",{staticClass:"img-box"},[e("img",{attrs:{src:t.userData.userImg}}),e("div",{staticClass:"upload-img"},[e("van-uploader",{attrs:{"after-read":t.afterReadHeader}})],1)]),e("div",{staticClass:"header-text"},[e("div",{staticClass:"user-name"},[t._v(t._s(t.userData.nickName))]),e("div",{staticClass:"user-desc"},[t._v(t._s(t.userData.desc?t.userData.desc:"这个人很懒，什么也没有留下！"))])])]),e("div",{staticClass:"data-box"},[e("van-cell",{attrs:{"is-link":"",to:"/userdata"},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{staticClass:"custom-title"},[t._v("个人资料")])]},proxy:!0}])}),e("van-cell",{attrs:{"is-link":"",to:"/myorders"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{class:t.isNewOrderMsg?"myorder-icon":""}),e("span",{staticClass:"custom-title"},[t._v("我的订单")])]},proxy:!0}])}),e("van-cell",{attrs:{"is-link":"",to:"/mylike"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{class:t.isNewLike?"mylike-icon":""}),e("span",{staticClass:"custom-title"},[t._v("我的收藏")])]},proxy:!0}])}),e("van-cell",{attrs:{"is-link":"",to:"/addresslist"},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{staticClass:"custom-title"},[t._v("地址管理")])]},proxy:!0}])}),e("van-cell",{attrs:{"is-link":"",to:"/safecenter"},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{staticClass:"custom-title"},[t._v("安全中心")])]},proxy:!0}])})],1)])])},i=[],r=(e("c975"),e("a15b"),e("ac1f"),e("5319"),e("1276"),e("5530")),n=(e("619a"),e("2f62")),o={name:"My",data:function(){return{}},methods:Object(r["a"])({getUserData:function(){var t=this,a=this.$cookies.get("tokenString");if(!a)return this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:this.baseUrl+"/findMy",params:{appkey:this.appkey,tokenString:a}}).then((function(a){if(t.$toast.clear(),700==a.data.code)return t.$toast({message:a.data.msg,forbidClick:!0,duration:1e3}),t.$router.push({name:"Login"});"A001"==a.data.code&&t.changeUserData(Object(r["a"])(Object(r["a"])({},t.userData),a.data.result[0]))})).catch((function(a){t.$toast.clear(),t.$toast({msg:a,forbidClick:!0,duration:1e3})}))},afterReadHeader:function(t){var a=this,e=this.$cookies.get("tokenString");if(!e)return this.$router.push({name:"Login"});var s=["png","gif","jpg","jpeg"],i=t.file.type.split("/")[1];if(-1==s.indexOf(i))return this.$toast({message:"文件类型只支持".concat(s.join(",")),forbidClick:!0,duration:1e3});var r=t.content.replace(/data:image\/[A-Za-z]+;base64,/,"");this.$toast.loading({message:"上传中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:this.baseUrl+"/updateAvatar",data:{appkey:this.appkey,tokenString:e,imgType:i,serverBase64Img:r}}).then((function(t){if(a.$toast.clear(),700==t.data.code)return a.$toast({message:t.data.msg,forbidClick:!0,duration:1e3}),a.$router.push({name:"Login"});"H001"==t.data.code&&1==t.data.result[0]&&a.changeUserHeader(t.data.userImg)})).catch((function(t){a.$toast.clear(),a.$toast({msg:t,forbidClick:!0,duration:1e3})}))},afterReadBg:function(t){var a=this,e=this.$cookies.get("tokenString");if(!e)return this.$router.push({name:"Login"});var s=["png","gif","jpg","jpeg"],i=t.file.type.split("/")[1];if(-1==s.indexOf(i))return this.$toast({message:"文件类型只支持".concat(s.join(",")),forbidClick:!0,duration:1e3});var r=t.content.replace(/data:image\/[A-Za-z]+;base64,/,"");this.$toast.loading({message:"上传中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:this.baseUrl+"/updateUserBg",data:{appkey:this.appkey,tokenString:e,imgType:i,serverBase64Img:r}}).then((function(t){if(a.$toast.clear(),700==t.data.code)return a.$toast({message:t.data.msg,forbidClick:!0,duration:1e3}),a.$router.push({name:"Login"});"I001"==t.data.code&&1==t.data.result[0]&&a.changeUserBg(t.data.userBg)})).catch((function(t){a.$toast.clear(),a.$toast({msg:t,forbidClick:!0,duration:1e3})}))}},Object(n["b"])(["changeUserData","changeUserHeader","changeUserBg"])),created:function(){this.getUserData()},computed:Object(r["a"])({},Object(n["c"])(["userData","isNewOrderMsg","isNewLike"]))},c=o,d=e("2877"),u=Object(d["a"])(c,s,i,!1,null,null,null);a["default"]=u.exports},5319:function(t,a,e){"use strict";var s=e("d784"),i=e("825a"),r=e("50c4"),n=e("a691"),o=e("1d80"),c=e("8aa5"),d=e("0cb2"),u=e("14c3"),l=Math.max,f=Math.min,g=function(t){return void 0===t?t:String(t)};s("replace",2,(function(t,a,e,s){var p=s.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=s.REPLACE_KEEPS_$0,v=p?"$":"$0";return[function(e,s){var i=o(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,i,s):a.call(String(i),e,s)},function(t,s){if(!p&&h||"string"===typeof s&&-1===s.indexOf(v)){var o=e(a,t,this,s);if(o.done)return o.value}var m=i(t),k=String(this),b="function"===typeof s;b||(s=String(s));var $=m.global;if($){var y=m.unicode;m.lastIndex=0}var C=[];while(1){var x=u(m,k);if(null===x)break;if(C.push(x),!$)break;var S=String(x[0]);""===S&&(m.lastIndex=c(k,r(m.lastIndex),y))}for(var _="",O=0,U=0;U<C.length;U++){x=C[U];for(var E=String(x[0]),j=l(f(n(x.index),k.length),0),D=[],w=1;w<x.length;w++)D.push(g(x[w]));var A=x.groups;if(b){var B=[E].concat(D,j,k);void 0!==A&&B.push(A);var I=String(s.apply(void 0,B))}else I=d(E,k,j,D,A,s);j>=O&&(_+=k.slice(O,j)+I,O=j+E.length)}return _+k.slice(O)}]}))},"619a":function(t,a,e){},c975:function(t,a,e){"use strict";var s=e("23e7"),i=e("4d64").indexOf,r=e("a640"),n=e("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,d=r("indexOf"),u=n("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:c||!d||!u},{indexOf:function(t){return c?o.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-58b593cf.b254832a.js.map